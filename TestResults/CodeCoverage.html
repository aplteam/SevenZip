<!DOCTYPE html>
<html lang="en">
<head>
<title>Coverage</title>
<meta charset="utf-8"/>
<style>
@media screen{
    html {background-color: #FFFFF0;}
body {
    font-size: 16px;
    font-family : Verdana, "Bitstream Vera Sans", "DejaVu Sans", Tahoma, Geneva, Arial, Sans-serif;
    margin: 1em;
}
th, td {padding: 5px 10px;}
th {text-align: left;}
h1, h2, h3, h4, h5, h6 {color: #424242;}
h1 {font-size: 22px;}
h2 {font-size: 18px; margin-top: 2em; margin-bottom:0.3em;}
tbody tr:nth-child(even) {background-color: #F0F0F0;}
tbody tr:nth-child(odd) {background-color: #FAFAFA;}
th {background-color: #E6E6E6;color: #424242;}
table {border: silver 1px solid; font-size: 14px;font-family: APLFont, monospace;}
code , code a {font-size: 14px; font-family: APLFont, monospace;}
code.header {
    font-size: 16px; 
    font-family: APLFont, monospace; 
    margin: 1.5em 0.5em 0 0.5em; 
    padding:0;
    display: block;
}
div.code-block {
    border: 1px silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 0.5em 0.5em 0.5em 0.5em;
    padding: 0.5em;
}
div.code-block.missing {
    background-color: #fa605254;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
ul li, ol li {margin: 0.7em 0.2em;}
.float-right {float:right;}
.no-underline {    text-decoration :none;}
.top-links {font-size:20px; padding-left: 0.6em;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5px; padding-top:0; font-size: 9px;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 0.5em; padding: 0.5em;}
}
@media print{@page {size: portrait}
@page {
    margin: 1cm 1cm 1cm 1.75cm;
    @bottom-right {
        content: counter(page) " / " counter(pages);
  }
}
body {
    font: 12pt "Times New Roman", Times, serif;
    line-height: 1.2;
     /* CSS3 filter, at the moment Webkit only. Prefix it for future implementations */
    -webkit-filter: grayscale(100%);
    filter: grayscale(100%); /* future-proof */
}
h1 {font-size: 18pt;}
h2 {font-size: 16pt; margin-top: 10pt; margin-bottom: 3pt;}
th, td {padding: 2pt 3pt;}
th {text-align: left;background-color: #DBDBDB;}
tbody tr:nth-child(odd) {background-color: #EDEDED;}
table {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    font-size: 8pt;
    font-family: APLFont, monospace;
}
div.keep-together {break-inside: avoid; break-before:auto;}
table {border: silver 1pt solid;}
code , code a {font-size: 8pt; font-family: APLFont, monospace;}
code.header {
    font-size: 8pt;
    font-family: APLFont, monospace;
    margin: 7pt 3pt 0 10pt;
    padding:0;
    display: block;
}
div.code-block {
    border: 1pt silver dashed;
    background-color: #F2F2F2;
    display: block;
    margin: 4pt 4pt 4pt 4pt;
    padding: 4pt;
}
div.code-block code {display: block; white-space: pre-wrap; margin:0; padding:0; word-wrap: break-word;}
.emphasize { font-weight: 800;}
a {text-decoration: none;color: black;}
ul li, ol li {margin: 8pt 3pt;}
.no-print {display:none;}
.align-right {text-align: right;}
#footer hr {margin-top:1.5em;}
#footer p {margin-top:5pt; padding-top:0; font-size: 6pt;}
@font-face {
        font-family: "APLFont";
    src:
        local("APL385 Unicode"),
        url("https://misc.aplteam.com/apl385.ttf") format("truetype");
}
.info {border: 1px silver dashed; background-color: #F2F2F2;margin: 8px; padding: 8px;}
}
</style>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.2/b-2.0.0/b-print-2.0.0/fh-3.1.9/r-2.2.9/datatables.min.js"></script>
</head>
<body>
<h1 id="top">Coverage Report</h1>
<p>Watched: 15 fns/opr within <code>#.SevenZip.SevenZip</code></p>
<p>The test suite was executed once:</p>
<table>
<thead>
<tr><th>Executed at</th><th>APLVersion</th><th>Memory (MB)</th></tr>
</thead>
<tbody>
<tr><td>2025-04-09 20:48:25</td><td>Windows-64 ⋄ 19.0.51432.0 ⋄ W ⋄ Development ⋄ Unicode</td><td>114</td></tr>
</tbody>
</table>
<p>Overall 76% of the testable code is covered.</p>
<p>(Comment lines, empty lines, all <code>:End</code>* lines etc. are ignored)</p>
<p>9 of the fns/opr are 100% covered.</p>
<div id="partly-covered" class="keep-together">
<table id="percent">
<thead>
<tr><th style="text-align:left;">Function/Operator</th><th style="text-align:left;">Lines not executed</th><th style="text-align:left;">Coverage</th><th style="text-align:right;">≢</th></tr>
</thead>
<tbody>
<tr class="uncovered"><td><a href="#listing_1" title="Link to listing">#.SevenZip.SevenZip.get_type</a></td><td>1</td><td>0</td><td>1</td></tr>
<tr class="uncovered"><td><a href="#listing_2" title="Link to listing">#.SevenZip.SevenZip.GetMsgFromExitCode</a></td><td>9←≢3-11</td><td>0</td><td>9</td></tr>
<tr><td><a href="#listing_3" title="Link to listing">#.SevenZip.SevenZip.Run_7zip</a></td><td>4←≢5-8</td><td>50</td><td>8</td></tr>
<tr><td><a href="#listing_4" title="Link to listing">#.SevenZip.SevenZip.Version</a></td><td>5, 11</td><td>60</td><td>5</td></tr>
<tr><td><a href="#listing_5" title="Link to listing">#.SevenZip.SevenZip.Add</a></td><td>7←≢11,27,38-40,42-43</td><td>81</td><td>37</td></tr>
<tr><td><a href="#listing_6" title="Link to listing">#.SevenZip.SevenZip.Unzip</a></td><td>12</td><td>91</td><td>11</td></tr>
<tr class="fullyCovered"><td><a href="#listing_7" title="Link to listing">#.SevenZip.SevenZip.set_zipFilename</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_8" title="Link to listing">#.SevenZip.SevenZip.get_zipFilename</a></td><td></td><td>100</td><td>1</td></tr>
<tr class="fullyCovered"><td><a href="#listing_9" title="Link to listing">#.SevenZip.SevenZip.set_type</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_10" title="Link to listing">#.SevenZip.SevenZip.History</a></td><td></td><td>100</td><td>0</td></tr>
<tr class="fullyCovered"><td><a href="#listing_11" title="Link to listing">#.SevenZip.SevenZip.make1</a></td><td></td><td>100</td><td>2</td></tr>
<tr class="fullyCovered"><td><a href="#listing_12" title="Link to listing">#.SevenZip.SevenZip.make2</a></td><td></td><td>100</td><td>2</td></tr>
<tr class="fullyCovered"><td><a href="#listing_13" title="Link to listing">#.SevenZip.SevenZip.Init</a></td><td></td><td>100</td><td>13</td></tr>
<tr class="fullyCovered"><td><a href="#listing_14" title="Link to listing">#.SevenZip.SevenZip.List</a></td><td></td><td>100</td><td>11</td></tr>
<tr class="fullyCovered"><td><a href="#listing_15" title="Link to listing">#.SevenZip.SevenZip.flags</a></td><td></td><td>100</td><td>0</td></tr>
</tbody>
</table>
</div>
<script>
$(document).ready(function() {
    var oTable;
    oTable = $("#percent").DataTable( {
        paging:   false,
        ordering: true,
        info:     true,
        fixedHeader: true,
        order: [2,"asc"],
        dom: "Bft",
        drawCallback: function( settings ) {
             var api = this.api();
             $('.header[id^="listing_"]').next().addBack().css("display","none");
             api.rows( {page:"current"} ).data().each(function(data){
              id = data[0];
              id = id.match(/"(\#.*?)"/);
              if (id){$(id[1]).next().addBack().css("display","block");}
             })
        },      
        buttons: [
        {
            text: "Partly covered (4)",
            titleAttr: "50%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^(?!(0%|100%)).*";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Uncovered (2)",
            titleAttr: "0%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "^0%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "Fully covered (9)",
            titleAttr: "100%",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = "100%";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
        {
            text: "All (15)",
            titleAttr: "all",
            className: "active",
            action: function ( e, dt, node, config ) {
                var text = this.text();
                var search = ".";
                oTable.column(2)
                    .search(search,true,false,false)
                    .draw();
                $(".dt-buttons button").removeClass("active");
                this.active( true );
            }
        },
    ],
 
        columnDefs: [
            {className: "align-right", targets: [2,3]
            },
            {
                render: function ( data, type, row, meta ) {
                            return data+"%" ;        
                        },
                targets: 2
            }
        ]             
    } );
    oTable.button(0).trigger();

} );    
</script>
<h2>Listings</h2>
<code class="header" id="listing_1">#.SevenZip.SevenZip.get_type &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_type</code>
<code class="emphasize">→[1]  r←_type_</code>
</div>
<code class="header" id="listing_2">#.SevenZip.SevenZip.GetMsgFromExitCode &mdash; 0%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←GetMsgFromExitCode code</code>
<code> [1]      ⍝ Takes a 7zip exit code and returns a meaningful message or "[unknown]"</code>
<code> [2]   :Access Public Shared</code>
<code class="emphasize">→[3]   msgs←''</code>
<code class="emphasize">→[4]   msgs,←⊂'No error'</code>
<code class="emphasize">→[5]   msgs,←⊂'Warning'</code>
<code class="emphasize">→[6]   msgs,←⊂'Fatal Error'</code>
<code class="emphasize">→[7]   msgs,←⊂'Command line error'</code>
<code class="emphasize">→[8]   msgs,←⊂'Not enough memory for operation'</code>
<code class="emphasize">→[9]   msgs,←⊂'User stopped process'</code>
<code class="emphasize">→[10]  msgs,←⊂'{unknown}'</code>
<code class="emphasize">→[11]  r←msgs[0 1 2 7 8 255⍳code]</code>
</div>
<code class="header" id="listing_3">#.SevenZip.SevenZip.Run_7zip &mdash; 50%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←Run_7zip cmd</code>
<code> [1]   :Select A.GetOperatingSystem ⍬</code>
<code> [2]   :Case 'Win'</code>
<code> [3]       r←((↑↑⎕CLASS ⎕THIS).##.⍎'Execute').Process cmd</code>
<code> [4]   :Case 'Lin'</code>
<code class="emphasize">→[5]       r←((↑↑⎕CLASS ⎕THIS).##.⍎'OS').ShellExecute cmd</code>
<code class="emphasize">→[6]       r←r[0 2],0</code>
<code class="emphasize">→[7]   :Case 'Mac'</code>
<code class="emphasize">→[8]       . ⍝ Not supported I am afraid</code>
<code> [9]   :EndSelect</code>
</div>
<code class="header" id="listing_4">#.SevenZip.SevenZip.Version &mdash; 60%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←Version</code>
<code> [1]      ⍝ Returns the version number from `TatinVars` if possible.</code>
<code> [2]      ⍝ See also `History`</code>
<code> [3]   :Access Public Shared</code>
<code> [4]   :If 0&lt;⎕NC'TatinVars.CONFIG'</code>
<code class="emphasize">→[5]       r←(⎕JSON⍠('Dialect' 'JSON5')⊢TatinVars.CONFIG).version</code>
<code> [6]   :ElseIf 0&lt;##.⎕NC'TatinVars.CONFIG'</code>
<code> [7]       r←(⎕JSON⍠('Dialect' 'JSON5')⊢##.TatinVars.CONFIG).version</code>
<code> [8]   :Else</code>
<code> [9]      ⍝ When a script was not loaded with Tatin, there will be no namespace `TatinVars`.</code>
<code> [10]     ⍝ In such cases we cannot provide a version number, so we return just ''.</code>
<code class="emphasize">→[11]      r←''</code>
<code> [12]  :EndIf</code>
</div>
<code class="header" id="listing_5">#.SevenZip.SevenZip.Add &mdash; 81%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  {(rc msg more)}←Add pattern</code>
<code> [1]      ⍝ Add zero, one or more files to the ZIP file.\\</code>
<code> [2]      ⍝ `pattern` can use wildcards `*` and `?`.\\</code>
<code> [3]      ⍝ **Note**: in order to get **all** files one **must** specify `*`;</code>
<code> [4]      ⍝ the expression `*.*` catches only all files with an extension.\\</code>
<code> [5]      ⍝ When `pattern` is something like "c:\directory\*" then all files</code>
<code> [6]      ⍝ including all sub directories are zipped recursively.</code>
<code> [7]      ⍝ `rc` is 0 when okay.</code>
<code> [8]   :Access Public Instance</code>
<code> [9]   counter←0</code>
<code> [10]  :If 0=≢pattern</code>
<code class="emphasize">→[11]      rc←0 ⋄ msg←more←''</code>
<code> [12]  :Else</code>
<code> [13]      cmd←EXE</code>
<code> [14]      cmd,←' a '</code>
<code> [15]      cmd,←' -r- '</code>
<code> [16]      cmd,←' -- '</code>
<code> [17]      cmd,←'"""',(F.NormalizePath zipFilename_~'"'),'""" '</code>
<code> [18]      :Select ≡pattern</code>
<code> [19]      :CaseList 0 1</code>
<code> [20]          pattern←F.NormalizePath pattern~'"'</code>
<code> [21]          cmd,←'"""',pattern,'"""'</code>
<code> [22]          counter←1</code>
<code> [23]      :Case 2</code>
<code> [24]          pattern←{F.NormalizePath ⍵~'"'}¨pattern</code>
<code> [25]          cmd,←⊃,/' ',¨{'"""',⍵,'"""'}¨pattern</code>
<code> [26]      :Else</code>
<code class="emphasize">→[27]          'Invalid right argument'⎕SIGNAL 11</code>
<code> [28]      :EndSelect</code>
<code> [29]      :Repeat</code>
<code> [30]          (rc msg more)←Run_7zip cmd</code>
<code> [31]          :If 0=rc</code>
<code> [32]          :AndIf 'Everything is Ok'≡↑¯1↑msg</code>
<code> [33]              :Leave</code>
<code> [34]          :EndIf</code>
<code> [35]          :If ∨/'The system cannot find the file specified'⍷∊msg</code>
<code> [36]          :OrIf ∨/'Duplicate filename'⍷∊msg</code>
<code> [37]              :Leave</code>
<code class="emphasize">→[38]          :ElseIf (0∊≢msg)∧(2=rc)∧¯1=more</code>
<code class="emphasize">→[39]              more←'Cannot find the 7z executable'</code>
<code class="emphasize">→[40]              :Leave</code>
<code> [41]          :EndIf</code>
<code class="emphasize">→[42]          ⎕DL 0.2                               ⍝ Otherwise we are very likely to see all sorts of problems</code>
<code class="emphasize">→[43]      :Until 20&lt;counter←counter+1</code>
<code> [44]      :If 0=rc</code>
<code> [45]      :AndIf 0≠≢msg</code>
<code> [46]          rc←'Everything is Ok'≢↑¯1↑msg</code>
<code> [47]      :EndIf</code>
<code> [48]      F.DeleteFile zipFilename_,'.tmp'</code>
<code> [49]      :If 0≠rc</code>
<code> [50]          :If ∨/'Duplicate filename'∘⍷∊msg</code>
<code> [51]              msg,←⊂'Use relative path names rather than absolute ones to avoid the problem'</code>
<code> [52]          :EndIf</code>
<code> [53]      :EndIf</code>
<code> [54]  :EndIf</code>
</div>
<code class="header" id="listing_6">#.SevenZip.SevenZip.Unzip &mdash; 91%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←{flags}Unzip outputFolder</code>
<code> [1]      ⍝ Extracts the full contents of the zip file into `outputFolder`.</code>
<code> [2]      ⍝ Use the left argument for adding more flags. You should know what you are doing then however.</code>
<code> [3]   :Access Public Instance</code>
<code> [4]   flags←{0&lt;⎕NC ⍵:⍎⍵ ⋄ ''}'flags'</code>
<code> [5]   cmd←EXE</code>
<code> [6]   cmd,←' x '</code>
<code> [7]   cmd,←'"""',(zipFilename_~'"'),'""" '</code>
<code> [8]   :If 0≠≢outputFolder</code>
<code> [9]       cmd,←' -o',outputFolder,' '</code>
<code> [10]  :EndIf</code>
<code> [11]  :If 0≠≢flags</code>
<code class="emphasize">→[12]      cmd,←' ',flags,' '</code>
<code> [13]  :EndIf</code>
<code> [14]  cmd,←' -aoa '         ⍝ Overwrite mode</code>
<code> [15]  (rc more exitCode)←Run_7zip cmd</code>
<code> [16]  r←exitCode more</code>
</div>
<code class="header" id="listing_7">#.SevenZip.SevenZip.set_zipFilename &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_8">#.SevenZip.SevenZip.get_zipFilename &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> r←get_zipFilename</code>
<code> [1]  r←F.(EnforceBackslash NormalizePath)zipFilename_</code>
</div>
<code class="header" id="listing_9">#.SevenZip.SevenZip.set_type &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<code class="header" id="listing_10">#.SevenZip.SevenZip.History &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  History</code>
<code> [1]   :Access Public Shared</code>
<code> [2]      ⍝ * 5.0.0 ⋄ 2025-04-09</code>
<code> [3]      ⍝   * Potentially breaking: `Version` now returns a char vector</code>
<code> [4]      ⍝   * Field `EXE` introduced that allows setting a full path to the 7z EXE</code>
<code> [5]      ⍝   * Packages updated</code>
<code> [6]      ⍝   * "Make" improved</code>
<code> [7]      ⍝ * 4.0.1 ⋄ 2023-06-12</code>
<code> [8]      ⍝   * Version 4.0.0 had a poblem with the package config file</code>
<code> [9]      ⍝ * 4.0.0:</code>
<code> [10]     ⍝   * BREAKING CHANGES:</code>
<code> [11]     ⍝     * Requires 18.0</code>
<code> [12]     ⍝     * Constructors do not take `refToUtils` anymore</code>
<code> [13]     ⍝     * Is a Tatin package now</code>
<code> [14]     ⍝     * Requires the class APLTreeUtils2</code>
<code> [15]     ⍝   * Internal changes</code>
<code> [16]     ⍝     * Does not :Include APLTreeUtils anymore</code>
<code> [17]     ⍝     * Fully Tatin compatible</code>
<code> [18]     ⍝     * Test cases polised</code>
<code> [19]     ⍝     * "Make" polished</code>
<code> [20]     ⍝\\</code>
<code> [21]     ⍝ For information regarding older versions see &lt;https://github.com/aplteam/SevenZip/releases&gt;</code>
</div>
<code class="header" id="listing_11">#.SevenZip.SevenZip.make1 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> make1(_zipFilename)</code>
<code> [1]  :Access Public</code>
<code> [2]  :Implements Constructor</code>
<code> [3]  type_←''</code>
<code> [4]  Init</code>
</div>
<code class="header" id="listing_12">#.SevenZip.SevenZip.make2 &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code> make2(_zipFilename _type)</code>
<code> [1]  :Access Public</code>
<code> [2]  :Implements Constructor</code>
<code> [3]  type_←_type</code>
<code> [4]  Init</code>
</div>
<code class="header" id="listing_13">#.SevenZip.SevenZip.Init &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  Init</code>
<code> [1]      ⍝ Private but called by all constructors</code>
<code> [2]   A←(↑↑⎕CLASS ⎕THIS).##.⍎'APLTreeUtils2'</code>
<code> [3]   F←(↑↑⎕CLASS ⎕THIS).##.⍎'FilesAndDirs'</code>
<code> [4]   zipFilename_←F.NormalizePath _zipFilename</code>
<code> [5]   :If '.'∊filepart←1⊃A.SplitPath zipFilename_</code>
<code> [6]       :If 0=≢type_←CheckExtension A.Last filepart</code>
<code> [7]           'Invalid extension'⎕SIGNAL 11</code>
<code> [8]       :EndIf</code>
<code> [9]   :Else</code>
<code> [10]      :If 0=≢type_</code>
<code> [11]          zipFilename_,←'.zip'</code>
<code> [12]          type_←'.zip'</code>
<code> [13]      :Else</code>
<code> [14]          :If 0=≢extension←CheckExtension type_</code>
<code> [15]              'Invalid type'⎕SIGNAL 11</code>
<code> [16]          :EndIf</code>
<code> [17]          zipFilename_,←((~'.'∊type_)/'.'),extension</code>
<code> [18]      :EndIf</code>
<code> [19]  :EndIf</code>
<code> [20]  ⎕DF(¯1↓⍕⎕THIS),'@',zipFilename_,']'</code>
</div>
<code class="header" id="listing_14">#.SevenZip.SevenZip.List &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block"><code>  r←List verboseFlag</code>
<code> [1]      ⍝ Returns information about what is saved in the archive.\\</code>
<code> [2]      ⍝ If `verboseFlag` is 1 then the 7zip output is returned which contains all</code>
<code> [3]      ⍝ sorts of pieces of information. If `verboseFlag` is 0 only a vector of file</code>
<code> [4]      ⍝ names is returned with the names of all files (and sub folders) found in this file.\\</code>
<code> [5]      ⍝ Note that list has a problem with some characters. `Add` a folder named `∆⍙`</code>
<code> [6]      ⍝ works fine (and so does `UnZip`) but `List` would return `__` for `∆⍙`. This is</code>
<code> [7]      ⍝ a 7zip problem.</code>
<code> [8]   :Access Public Instance</code>
<code> [9]   cmd←EXE</code>
<code> [10]  cmd,←' l '</code>
<code> [11]  cmd,←'"""',(zipFilename_~'"'),'""" '</code>
<code> [12]  (rc more exitCode)←Run_7zip cmd</code>
<code> [13]  :If 0=exitCode</code>
<code> [14]  :AndIf (,1)≢,verboseFlag</code>
<code> [15]      more←(2+1⍳⍨'DateTimeAttrSizeCompressedName'∘≡¨more~¨' ')↓more  ⍝ Drop everything until first name</code>
<code> [16]      more↑⍨←+/∧\'------------------- '{(⊃(⍴⍺)↑¨⍵)∨.≠⍺}more          ⍝ Only the names survive</code>
<code> [17]      more←{⍵↓⍨-+/∧\' '=⌽⍵}¨more                                     ⍝ Drop trailing blanks</code>
<code> [18]      more←{⍵↑⍨-+/∧\' '≠⌽⍵}¨more                                     ⍝ Just the filenames</code>
<code> [19]  :EndIf</code>
<code> [20]  r←exitCode more</code>
</div>
<code class="header" id="listing_15">#.SevenZip.SevenZip.flags &mdash; 100%<a class="float-right no-print no-underline top-links" href="#top" title="Go to the top of the document">&#8607;</a><a  class="float-right no-print no-underline top-links" href="#partly-covered" title="Go to the beginning of 'Partly-covered'">↑</a></code>
<div class="code-block missing">Could not get canonical representation.</div>
<div id="footer">
<hr>
<p>Created by "CodeCoverage" version 0.10.7+52 from 2024-06-05</p>
</div>

</body>
</html>
